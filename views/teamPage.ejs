<%- include('partials/header') -%>
  <%- include('partials/nav') -%>

<div class="container-fluid team-progress-container">
  <div class="container-fluid px-5">
    <div class="row g-4">
      
      <!-- LEFT SIDE - Team Progress -->
      <div class="col-lg-8 col-md-7">
        <div class="card shadow-lg border-0 team-card">
          <div class="text-center card-header team-card-header">
            <h2 class="mb-0 text-dark fw-bold">
              <i class="bi me-2"></i>Team Progress
            </h2>
          </div>
          <div class="card-body p-4">
            
            <!-- Group Name -->
            <div class="group-name-section">
              <h3 class="fw-bold mb-0 group-name-title">
                <i class="bi me-2"></i>
                <%= groupCode.GroupName %>
              </h3>
            </div>

            <!-- Users and Progress Bars -->
            <% groupCode.users.forEach((user, index) => { %>
              <div class="card user-card">
                <div class="card-body p-4">
                  <div class="d-flex justify-content-between align-items-center mb-3">
                    <h5 class="mb-0 fw-bold text-white">
                      <%= user.name %>
                    </h5>
                    <span class="badge wager-badge">
                      $<%= user.wager %>
                    </span>
                  </div>
                  
                  <!-- Progress Bar -->
                  <div class="progress progress-container">
                    <div class="progress-bar progress-bar-animated progress-bar-gold" 
                         role="progressbar" 
                         style="width: <%= user.progress %>%"
                         aria-valuenow="<%= user.progress %>" 
                         aria-valuemin="0" 
                         aria-valuemax="100">
                    </div>
                  </div>
                </div>
              </div>
            <% }) %>
          </div>
        </div>
      </div>




      <!-- RIGHT SIDE - Timeline & Cash Jar -->
      <div class="col-lg-4 col-md-5">
        <div class="d-flex flex-column gap-4">
          



          <!-- Timeline Card ~~~~~~~~~ NEED TO HAVE GROUP ENTER TIMELINE FOR DURATION OF CHALLANGE-->
          <div class="card shadow-lg border-0 timeline-card">
            <div class="card-header py-4 text-center timeline-header">
              <h4 class="mb-0 text-dark fw-bold">
                <i class="bi me-2"></i>Timeline
              </h4>
            </div>
            <!-- <div class="card-body text-center p-5">
              <div class="display-5 fw-bold mb-2 timeline-time">
                <i class="bi me-2"></i><%= groupCode.groupTime %>
              </div> -->
              <p class="text-muted mb-0 fs-6">Challenge Duration</p>
            </div>
          </div>





          <!-- cash jar div and total total~~~~~~ NEED TO FIGURE OUT HOW TO HAVE AN IMAGE WITH AMOUNT OF EACH USER TO SHOW -->
          <div class="card shadow-lg border-0 cash-jar-card">
            <div class="card-header text-center cash-jar-header">
              <h4 class="mb-0 fw-bold">
                <i class="bi me-2"></i>Cash Jar
              </h4>
            </div>

            <div class="card-body text-center p-5">
              <div class="mb-4">
                <svg class="" width="64" height="64" fill="currentColor" >
                    </svg>
              </div>
              <h2 class="display-2 fw-bold mb-2 cash-jar-total">$<%= cashJar.total %></h2>
              <p class="mb-0 mt-3 fs-5 fw-bold cash-jar-label">Total Pot</p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<%- include('partials/footer') -%>




